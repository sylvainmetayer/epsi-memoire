\todo{Automatiser un projet, 12 pages mini}

\subsection{Partie Management, gestion de projet}

\todo{Partie management, comment gérer un changement ?, 3 pages}

Conduite du changement, cela ne se fait pas en un jour.

Pré-requis, comment gérer la mise en place avec le management, ... Gérer les différentes personnes impliquées, ...

- Définir les personnes responsables du projet

- Définir les personnes responsables financièrement du projet. Ce sont elles qui pourront être les plus difficile à convaincre

- Définir les personne réfractaire au changement. Exemple : développeur de 55-60 ans, qui a toujours fait d'une façon, et qui a 4-5 ans de la retraite, ne voit pas l'intérêt de changer de méthodes.

- Gérer le flux de travail, pour ne pas se retrouver submerger.

- First Way (DevOps handbook) : Gérer le flux de travail. 

notion d'empilement, de "unplanned work" qui prends le temps de travail,

- Voir le travail à faire (Kanban)

- Limiter le travail en cours (WIP) pour éviter que tout soit en cours et que rien ne se termine

- Limiter les trop grosses livraisons, pour éviter l'effet "n'en finit jamais". Mieux vaut livrer 4 fois des petites fonctionnalités qu'une seule grosse, avec 3 mois de retard.

- Second Way : Feedback. retour entre dev et ops. Besoin de métrique pour pouvoir savoir ou / comment intervenir. Résoudre les problèmes lorsqu'ils arrivent plutôt que les laisser grandir et devenir trop important.

- Third Way : Apprentissage continu. Prévoir du temps pour améliorer l'environnement de travail, les déploiements  \& co.

- Partage de connaissance, pour construire une équipe qui puisse s'adapter.

- Résilience de l'application, tester l'application sous différents angles continuellement afin de vérifier qu'elle se comporte correctement.

- Lister les jalons et prévoir le temps pour faire étapes après étapes. => Amélioration continue

\subsection{Localement, lors des phases de développement}

\todo{Localemnt, lors des phases de développement, 2 pages}

Permettre un démarrage rapide pour pouvoir se concentrer sur une fonctionnalité plutôt que sur le "ça marche pas parce que tu as pas installé ça". => Valeur ajoutée, performance, productivité

But : prévenir l'erreur avant qu'elle ne quitte le poste du développeur (et soit donc sur le dépôt Git).

-  Linter

-  Docker, stack reproductible et indépendante selon environnement (windows/linux/mac) 

- IDE à configurer, éventuellement partager la configuration (ex: PHP Storm Code Style)

-  Makefile / scripts shell de taches récurrentes (cache clear, installation, ...)

- Git hook pour vérifier que tout est ok.

% https://dev.to/shameemreza/3-tricks-to-automate-development-tasks-with-git-hooks-2dah

\subsection{L'importance des tests}

\todo{Importance des tests, 1-2 pages}

Tout l'automatisation ne sert à rien sans une bonne campagne de tests, fonctionnel, unitaire, d'intégration, E2E, ...

Parler de Protractor et Squash sur \bv. Tests automatisés unitaires (phpunit) permettant à la plateforme d'intégration continue de vérifier la conformité du code par rapport aux attentes métiers.

différence entre intégration continue et tests unitaires (image du lavabo + séchoir à main côte à côte). Les tests unitaires vont tester la cohérence d'une partie du système tandis que l'intégration va tester la cohérence de l'échange entre divers systèmes / fonctions.

rapidité des tests à une importance pour un retour rapide aux dev

\subsection{Intégration et déploiement continu}

\todo{Intégration de déploiement continu, 3-4 pages}

Retour le plus rapide possible pour éviter des bugs en prod. 

Vérifier les dépendances (failles, ...)

Le reporting de bug automatique (sentry.io)

Intégration des tests dans jenkins

Monitoring : monit pour monitorer l'état d'application ? (perso)

Jenkins, Travis, Déployer automatiquement à partir d'un push sur dev, en recette, intégration, staging, et lorsque tout passe, en production.

Infra As Code % https://dev.to/klauenboesch/why-use-infrastructure-as-a-code-3793

\textit{Exemple : parler de NAQ Automatisation de la création de la base de données et de la restauration des données}

Feature flipping pour tester (A/B) et faire des rollback rapides.

\subsection{Et la sécurité dans tout ça ?}

\todo{Sécurité, 1-2 page }

Gestion des tokens, gestion des comptes.
Un compte admin ou plusieurs sous compte avec des droits limités ? En cas d'intrusion, un attaquant a moins de chance de corrompre tout le système.
Infra : restriction d'accès (htaccess / firewall / ..?)

Attention à l'endroit ou sont fait les builds/tests. Il est préférable, pour des raisons de sécurité évidente d'utiliser un outil auto-hébergé, open source, plutôt que des outils clés en main, ou les données sont envoyées sur des serveurs inconnus. 

Dans certains cas, l'application ne doit pas quitter le périmètre de l'entreprise,il faut donc avoir la maitrise totale de la chaine d'industrialisation
